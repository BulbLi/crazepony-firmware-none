frok from crazepony (without RTOS)
